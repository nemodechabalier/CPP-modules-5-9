# Variables
CXX = c++
CXXFLAGS = -Wall -Wextra -Werror -std=c++98 -g3
SRC = Data.cpp  main.cpp  Serializer.cpp
OBJ = $(SRC:.cpp=.o)
TARGET = convert

# Colors
GREEN  = \033[1;32m
YELLOW = \033[1;33m
BLUE   = \033[1;34m
CYAN   = \033[1;36m
RED    = \033[1;31m
RESET  = \033[0m

# RÃ¨gles
.PHONY: all clean fclean re

all: header build

header:
	@echo "$(CYAN)=== DÃ©but de la compilation ===$(RESET)"

build: $(TARGET)

$(TARGET): $(OBJ)
	@echo "$(BLUE)ðŸ”§ CrÃ©ation de l'exÃ©cutable $(TARGET)...$(RESET)"
	$(CXX) $(OBJ) -o $(TARGET)
	@echo "$(GREEN)âœ… Compilation terminÃ©e avec succÃ¨s !$(RESET)"

PhoneBook.o: PhoneBook.cpp
	@echo "$(YELLOW)ðŸ“„ Compilation de $<...$(RESET)"
	$(CXX) $(CXXFLAGS) -c $< -o $@

Contact.o: Contact.cpp
	@echo "$(YELLOW)ðŸ“„ Compilation de $<...$(RESET)" 
	$(CXX) $(CXXFLAGS) -c $< -o $@

main.o: main.cpp
	@echo "$(YELLOW)ðŸ“„ Compilation de $<...$(RESET)"
	$(CXX) $(CXXFLAGS) -c $< -o $@

clean:
	@echo "$(RED)ðŸ§¹ Suppression des fichiers objets...$(RESET)"
	rm -f $(OBJ)
	@echo "$(RED)ðŸ§¼ Fichiers objets supprimÃ©s !$(RESET)"

fclean: clean
	@echo "$(RED)ðŸ—‘ï¸ Suppression de l'exÃ©cutable $(TARGET)...$(RESET)"
	rm -f $(TARGET)
	@echo "$(RED)ðŸ§½ ExÃ©cutable supprimÃ© !$(RESET)"

re: fclean all